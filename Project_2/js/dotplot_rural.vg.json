{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "background": "rgba(0,0,0,0)",
  "data": {"url": "https://raw.githubusercontent.com/Kexin0422/FIT3179_S2_2022/main/Project_2/data/atLeastBasicSanitizationServicesUpdated.csv"},
  "width":"container",
  "height":400,
  "title": "Rural Area",
  "mark": "circle",
  "params": [
    {
        "name" : "Year_selection",
        "bind" : {
            "input" : "select",
            "options": [
                null, 
                "0",
                "1",
                "2",
                "3",
                "4"
            ],
            "labels": [
                "Show All",
                "0",
                "1",
                "2",
                "3",
                "4"
            ],
            "name": "Year Group Selection"
        }
    }
],
  "transform": [
      {"filter":"datum.Area =='Rural'"},
      {"filter": "Year_selection == null || datum.YearGroup == Year_selection"} 
  ],
  "encoding": {
    "x": {
      "field": "Region","type":"nominal","axis": {"tickCount": 10,"labelAngle":45}
    },
    "y": {
      "field": "AtLeastBasicSanitizationService","type":"quantitative", "title":"Population (%)"
    },
    "color":{
      "field":"YearGroup",
      "legend":{"labelExpr": "{'0': '0: 2000-2003','1':'1: 2004-2007','2':'2: 2008-2011','3':'3: 2012-2015','4':'4: 2016-2017'}[datum.label]"}, "title":"Year Group"},
    "tooltip":[
      {"field":"Region","type": "nominal"},
      {"field": "Area", "type": "nominal"},
      {"field":"AtLeastBasicSanitizationService", "type":"quantitative","format":".2f", "title":"Population (%)"}
  ]
  }
}